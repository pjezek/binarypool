<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Binary Pool - Error responses</title>
    <link rel="stylesheet" href="docs.css" type="text/css" />
</head>

<body>
    <h1>Error responses</h1>

    <p>In case of an error the following XML format is returned:</p>

<pre><code>&lt;error&gt;
    &lt;code&gt;100&lt;/code&gt;
    &lt;msg&gt;Bucket not defined: foo&lt;/msg&gt;
&lt;/error&gt;</code></pre>

    <p>In this output code is the error code and msg is the human-readable
    English text for it. code is not always provided. The following codes are
    defined:</p>
    
    <table>
        <tbody>
            <tr>
                <th>Code</th>
                <th>Message</th>
                <th>Comments</th>
            </tr>
            <tr>
                <td>100</td>
                <td>Bucket not defined: <em>bucket</em></td>
                <td>When posting to or accessing a bucket which has not been configured.</td>
            </tr>
            <tr>
                <td>101</td>
                <td>No bucket specified.</td>
                <td>When using a method which requires a bucket in the path but no bucket was specified.</td>
            </tr>
            <tr>
                <td>102</td>
                <td>Referenced file in asset does not exist: <em>file</em></td>
                <td>Internal exception.</td>
            </tr>
            <tr>
                <td>103</td>
                <td>File to save in binary pool does not exist: <em>file</em></td>
                <td>When the uploading process fails. Can happen if the input file is too big.</td>
            </tr>
            <tr>
                <td>104</td>
                <td>Could not create directory to hold uploaded file: <em>dir</em></td>
                <td>The directory for the uploaded binary could not be created. Can happen because of file permission issues or a full disk.</td>
            </tr>
            <tr>
                <td>105</td>
                <td>Could not copy original file to its final destination: <em>file</em></td>
                <td>The uploaded binary could not be stored. Can happen because of file permission issues or a full disk.</td>
            </tr>
            <tr>
                <td>106</td>
                <td>Could not create rendition: <em>rendition</em></td>
                <td>The rendition could not be created. Can happen because of file permission issues, a full disk or ImageMagick problems.</td>
            </tr>
            <tr>
                <td>107</td>
                <td>Binary Pool path is not configured.</td>
                <td>The path to the binary pool has not been configured. This is a configuration issue and should be adjusted by changing the configuration file.</td>
            </tr>
            <tr>
                <td>108</td>
                <td>Access forbidden: <em>uri</em></td>
                <td>A URL was opened which is outside of the binary pool's file system.</td>
            </tr>
            <tr>
                <td>109</td>
                <td>No file uploaded.</td>
                <td>No file was given when creating a new binary.</td>
            </tr>
            <tr>
                <td>110</td>
                <td>Type param not given.</td>
                <td>No Type parameter was given when creating a new binary.</td>
            </tr>
            <tr>
                <td>111</td>
                <td>Invalid upload type: <em>type</em></td>
                <td>The given Type parameter is not known.</td>
            </tr>
            <tr>
                <td>112</td>
                <td>Asset file does not exist: <em>file</em></td>
                <td>Internal error. Happens when trying to load an asset file from the file system but the file does not exist.</td>
            </tr>
            <tr>
                <td>113</td>
                <td>Invalid asset file: <em>file</em></td>
                <td>Internal error. Happens when trying to load an asset file which is not valid.</td>
            </tr>
            <tr>
                <td>114</td>
                <td>Unknown HTTP verb: <em>verb</em></td>
                <td>Thrown when the API is accessed with a HTTP verb which is not supported. See the Method field of each API call for the HTTP verb to use.</td>
            </tr>
            <tr>
                <td>115</td>
                <td>File not found: <em>file</em></td>
                <td>A file was requested through the API which was not found.</td>
            </tr>
            <tr>
                <td>116</td>
                <td>Bucket does not have a defined TTL: <em>bucket</em></td>
                <td>Thrown when for a bucket the TTL (time to live) configuration was not specified.</td>
            </tr>
            <tr>
                <td>117</td>
                <td>XML document is not well-formed.</td>
                <td>When uploading an XML file (Type=XML) but the file is not well-formed.</td>
            </tr>
            <tr>
                <td>118</td>
                <td>XML document is not valid.</td>
                <td>When uploading an XML file (Type=XML) but the file is not valid according to the XML schema definition.</td>
            </tr>
            <tr>
                <td>119</td>
                <td>Invalid MIME type for image. Allowed types: image/jpeg, image/gif</td>
                <td>Returned when an invalid image is uploaded to a bucket which only allows specific MIME types. The list of allows types depends on the configuration per bucket.</td>
            </tr>
            <tr>
                <td>120</td>
                <td>Invalid URL for download: <em>url</em></td>
                <td>A URL passed for download by the Binary Pool was invalid e.g. missing http:// or https:// scheme or otherwise badly formed.</td>
            </tr>
            <tr>
                <td>121</td>
                <td>File could not be fetched from URL: <em>url</em></td>
                <td>The Binary Pool was unable to fetch the file at <em>url</em> due to either network problems or a problem on the remote server (including 404s, 5xx responses etc.)</td>
            </tr>
            <tr>
                <td>122</td>
                <td>File download failed <em>failed_time</em> seconds ago. Re-fetching allowed in next time in <em>failed_nextfetch</em> seconds: <em>url</em></td>
                <td>A URL was used that already produced a recent 121 error response - the URL has been temporarily blacklisted but further attempts may be made in <em>failed_nextfetch</em> seconds.</td>
            </tr>
            <tr>
                <td>123</td>
                <td>Could not connect to the queue server <em>server</em></td>
                <td>The queue rendition class could not connect to the configured ActiveMQ queue server.</td>
            </tr>
            <tr>
                <td>124</td>
                <td>Missing source rendition for rendition <em>foo</em></td>
                <td>Configuration error. The rendition depends on a source rendition which is not available.</td>
            </tr>
        </tbody>
    </table>
    
    <p>The HTTP response code tries to be semantically correct.</p>
    
</body>
</html>
